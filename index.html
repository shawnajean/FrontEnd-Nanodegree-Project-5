<!DOCTYPE html>
<html>
  <head>
    <link rel="stylesheet" href="css/style.css">
    <meta name=viewport content="width=device-width, height=device-height, initial-scale=1">
  </head>
  <body>
    <div data-bind="visible: errorHandler().length > 0, text: errorHandler" class="error"></div>
    <div id="overlay" class="overlay">
      <input data-bind="value: query, valueUpdate: 'keyup'" class="search" placeholder="Search.." />
      <ul data-bind="foreach: locales" id="locale-list" class="locale-list">
        <li>
          <span data-bind="text: name, click: $root.selectLocale" class="name"></span>
          <!-- ko if: foursquare() -->
            <!-- ko foreach: foursquare().categories -->
            <a data-bind="click: $root.searchCategory" href="#"><em data-bind="text: name" class="category"></em></a>
            <!-- /ko -->
          <!-- /ko -->
        </li>
      </ul>
    </div>
    <div id="map" class="map"></div>

    <script type="text/javascript">
      var errorHandling = function() {
        var temp = document.createElement( 'div' );
        temp.className += ( 'error' );
        temp.innerText = "Apologies! We're unable to load Google Maps at this time. Try refreshing the page!";

        document.body.insertBefore( temp, document.body.childNodes[0] );
      };
    </script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.0.0/jquery.min.js"></script>
    <script async defer onerror="errorHandling()" src="https://maps.googleapis.com/maps/api/js?libraries=places&callback=initApp"></script>
    <script src="js/libs/knockout-3.4.0.js"></script>
    <script src="js/main.js"></script>
  </body>
</html>
